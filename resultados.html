<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resultado del DÃ­a - ReflexiÃ³n Virtual</title>
  <link rel="stylesheet" href="css/estilos.css">
</head>
<body>

  <header class="panel-superior">
    <h1 class="titulo-app">ReflexiÃ³n Virtual</h1>
    <nav>
      <button onclick="window.location.href='cuestionario.html'">Nuevo Cuestionario</button>
      <button onclick="window.location.href='perfil.html'">Ver mi Perfil</button>
      <button onclick="cerrarSesion()">Cerrar sesiÃ³n</button>
    </nav>
  </header>

  <main class="cuestionario-contenido">
    <section class="resultados">
      <h2>Tu resultado de hoy</h2>
      
      <div class="avatar-contenedor">
        <img id="avatarImg" src="img/avatar_neutro.png" alt="Avatar emocional">
      </div>

      <p id="mensajeResultado">
        Â¡Gracias por reflexionar hoy! SegÃºn tus respuestas, parece que tu dÃ­a fue equilibrado.  
        Recuerda que tomarte un momento para ti siempre es valioso ğŸ’œ
      </p>

      <button class="boton-final" onclick="window.location.href='perfil.html'">Ver progreso semanal</button>
    </section>
  </main>

  <script type="module" src="js/firebase-config.js"></script>
  <script>

    document.addEventListener("DOMContentLoaded", () => {
      const params = new URLSearchParams(window.location.search);
      const estado = params.get("estado") || "neutral"; 
      
      const avatarImg = document.getElementById("avatarImg");
      const mensajeResultado = document.getElementById("mensajeResultado");

      switch (estado) {
        case "feliz":
          avatarImg.src = "img/avatar_feliz.png";
          mensajeResultado.textContent = "Â¡Te sientes con energÃ­a positiva hoy! MantÃ©n esa actitud y compÃ¡rtela con los demÃ¡s ğŸŒ";
          break;
        case "triste":
          avatarImg.src = "img/avatar_triste.png";
          mensajeResultado.textContent = "Hoy no fue tu mejor dÃ­a, y estÃ¡ bien. PermÃ­tete sentir y busca algo que te haga sonreÃ­r ğŸ’œ";
          break;
        case "estresado":
          avatarImg.src = "img/avatar_estresado.png";
          mensajeResultado.textContent = "Tu nivel de estrÃ©s estÃ¡ alto. Respira profundo, date un descanso y prioriza lo que realmente importa ğŸŒ¿";
          break;
        default:
          avatarImg.src = "img/avatar_neutro.png";
          mensajeResultado.textContent = "Parece que tu dÃ­a fue tranquilo. Aprovecha esta calma para recargar energÃ­as âœ¨";
          break;
      }
    });

    function cerrarSesion() {
      window.location.href = "index.html";
    }
  </script>

</body>
</html>
